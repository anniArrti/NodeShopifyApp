{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { AppProvider, ContextualSaveBar, Frame, Spinner, Page, Card, Form, FormLayout, TextStyle, Checkbox, TextField, Button, Avatar, RangeSlider, DropZone, Stack, Thumbnail, Select } from '@shopify/polaris';\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react';\nimport translations from '@shopify/polaris/locales/en.json';\nimport axios from 'axios';\nimport Router from 'next/router';\nvar img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg'; //import {useHistory } from 'react-router-dom';\n\nvar Createbar = /*#__PURE__*/function (_React$Component) {\n  _inherits(Createbar, _React$Component);\n\n  var _super = _createSuper(Createbar);\n\n  function Createbar(props) {\n    var _this;\n\n    _classCallCheck(this, Createbar);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handlecolorChange\", function (ev, name) {\n      var _objectSpread2;\n\n      _this.setState(_objectSpread(_objectSpread({}, _this.state), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, name, ev), _defineProperty(_objectSpread2, \"contentsaver\", true), _objectSpread2)));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSelectChange\", function (ev) {\n      _this.setState({\n        close_button: ev\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function () {\n      if (_this.state.name == '' || _this.state.intial_msg == '' || _this.state.goal == '') {\n        return false;\n      }\n\n      _this.setState({\n        loading: true,\n        btnload: true,\n        pagebutton: true\n      });\n\n      var formData = new FormData();\n      formData.append('file', _this.state.bg_img);\n      formData.append('name', _this.state.name);\n      formData.append('goal', _this.state.goal);\n      formData.append('intial_msg', _this.state.intial_msg);\n      formData.append('progress_msg', _this.state.progress_msg);\n      formData.append('opacity', _this.state.opacity);\n      formData.append('achive_msg', _this.state.achive_msg);\n      formData.append('spt_color', _this.state.spt_color);\n      formData.append('bg_color', _this.state.bg_color);\n      formData.append('txt_color', _this.state.txt_color);\n      formData.append('padding', _this.state.padding);\n      formData.append('font_size', _this.state.font_size);\n\n      var that = _assertThisInitialized(_this);\n\n      axios.post('/createbar', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(function (response) {\n        Router.push('/'); //that.setState({ loading : false});\n        //router.push('/');\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDropZoneDrop\", function (ev) {\n      _this.setState({\n        filename: ev[0]\n      });\n\n      _this.createImage(ev[0]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"createnewbar\", function () {\n      _this.setState({\n        loading: true\n      });\n\n      var path = '/';\n      Router.push(path);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"discard\", function () {\n      _this.setState({\n        contentsaver: false\n      });\n    });\n\n    _this.state = {\n      open: false,\n      selectedItems: [],\n      items: [],\n      spt_color: '#000000',\n      txt_color: '#000000',\n      bg_color: '#000000',\n      opacity: 0,\n      bg_img: '',\n      filename: '',\n      name: '',\n      goal: '',\n      intial_msg: '',\n      progress_msg: '',\n      achive_msg: '',\n      loading: true,\n      btnload: false,\n      contentsaver: false,\n      pagebutton: false,\n      padding: '7',\n      font_size: '16',\n      close_button: close_button\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handlecolorChange = _this.handlecolorChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Createbar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        loading: false\n      }); // axios.get('/allbars').then(response => {\n      //   console.log(response);\n      //     this.setState({\n      //       items: response.data\n      //     })\n      //   })\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          contentsaver = _this$state.contentsaver,\n          pagebutton = _this$state.pagebutton,\n          btnload = _this$state.btnload,\n          spt_color = _this$state.spt_color,\n          txt_color = _this$state.txt_color,\n          bg_color = _this$state.bg_color,\n          close_button = _this$state.close_button,\n          font_size = _this$state.font_size,\n          padding = _this$state.padding,\n          opacity = _this$state.opacity,\n          loading = _this$state.loading,\n          filename = _this$state.filename,\n          bg_img = _this$state.bg_img,\n          name = _this$state.name,\n          goal = _this$state.goal,\n          intial_msg = _this$state.intial_msg,\n          progress_msg = _this$state.progress_msg,\n          achive_msg = _this$state.achive_msg;\n      var options = [{\n        label: 'Yes',\n        value: 'yes'\n      }, {\n        label: 'No',\n        value: 'no'\n      }];\n\n      var fileUpload = !this.state.bg_img && __jsx(DropZone.FileUpload, null);\n\n      var uploadedFile = bg_img && __jsx(Stack, null, __jsx(Thumbnail, {\n        size: \"small\",\n        alt: filename.name,\n        source: \"https://cdn.shopify.com/s/files/1/0757/9955/files/New_Post.png?12678548500147524304\"\n      }), __jsx(\"div\", null, filename.name));\n\n      return __jsx(AppProvider, {\n        i18n: {\n          Polaris: {\n            Frame: {\n              skipToContent: 'Skip to content'\n            },\n            ContextualSaveBar: {\n              save: 'Save',\n              discard: 'Discard'\n            }\n          }\n        }\n      }, __jsx(Frame, null, contentsaver ? __jsx(ContextualSaveBar, {\n        message: \"Unsaved changes\",\n        saveAction: {\n          onAction: function onAction() {\n            return _this2.handleSubmit();\n          },\n          loading: btnload,\n          disabled: false\n        },\n        discardAction: {\n          onAction: function onAction() {\n            return _this2.discard();\n          }\n        }\n      }) : '', __jsx(Page, {\n        title: \"Create New Bar\",\n        primaryAction: {\n          content: 'Cancel',\n          disabled: pagebutton,\n          onAction: function onAction() {\n            return _this2.createnewbar();\n          }\n        }\n      }, loading ? __jsx(Card, null, __jsx(\"div\", {\n        className: \"spinner-cls\",\n        style: {\n          textAlign: \"center\",\n          padding: \"20px\"\n        }\n      }, __jsx(Spinner, {\n        accessibilityLabel: \"Spinner example\",\n        size: \"large\",\n        color: \"teal\"\n      }))) : __jsx(Form, null, __jsx(Card, {\n        sectioned: true,\n        title: \"Style Configuration\"\n      }, __jsx(Card.Section, null, __jsx(FormLayout, null, __jsx(FormLayout.Group, null, __jsx(TextField, {\n        value: bg_color,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'bg_color');\n        },\n        label: \"Background Color\",\n        type: \"color\"\n      }), __jsx(TextField, {\n        value: txt_color,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'txt_color');\n        },\n        label: \"Text Color\",\n        type: \"color\"\n      }), __jsx(TextField, {\n        value: spt_color,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'spt_color');\n        },\n        label: \"Special Text Color\",\n        type: \"color\"\n      }))), __jsx(FormLayout, null, __jsx(FormLayout.Group, null, __jsx(TextField, {\n        value: font_size,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'font_size');\n        },\n        label: \"Font Size\",\n        type: \"text\"\n      }), __jsx(TextField, {\n        value: padding,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'padding');\n        },\n        label: \"Padding\",\n        type: \"text\"\n      }))), __jsx(FormLayout, null, __jsx(RangeSlider, {\n        label: \"Background Color Opacity\",\n        value: opacity,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'opacity');\n        },\n        min: 0,\n        max: 9,\n        output: true,\n        helpText: __jsx(\"span\", null, \"The range is from 0 to 1,0 = transparent and 1 = solid\")\n      }), __jsx(DropZone, {\n        onDrop: this.handleDropZoneDrop\n      }, uploadedFile, fileUpload)))), __jsx(Card, {\n        title: \"Content Configuration\"\n      }, __jsx(Card.Section, null, __jsx(FormLayout, null, __jsx(TextField, {\n        value: name,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'name');\n        },\n        label: \"Name\",\n        type: \"text\"\n      }), __jsx(TextField, {\n        value: goal,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'goal');\n        },\n        label: \"Free Shipping Goal\",\n        type: \"text\"\n      }), __jsx(TextField, {\n        value: intial_msg,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'intial_msg');\n        },\n        label: \"Initial Message\",\n        type: \"text\"\n      }), __jsx(TextField, {\n        value: progress_msg,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'progress_msg');\n        },\n        label: \"Progress Message\",\n        type: \"text\"\n      }), __jsx(TextField, {\n        value: achive_msg,\n        onChange: function onChange(ev) {\n          return _this2.handlecolorChange(ev, 'achive_msg');\n        },\n        label: \"Goal Achieved Message\",\n        type: \"text\"\n      }), __jsx(Select, {\n        label: \"Include The Close Button\",\n        options: options,\n        onChange: this.handleSelectChange,\n        value: close_button\n      }))), __jsx(Card.Section, null, __jsx(Button, {\n        submit: true,\n        primary: true\n      }, \"Submit\")))))));\n    }\n  }, {\n    key: \"createImage\",\n    value: function createImage(file) {\n      var _this3 = this;\n\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        _this3.setState({\n          bg_img: e.target.result\n        });\n      };\n\n      reader.readAsDataURL(file);\n    }\n  }]);\n\n  return Createbar;\n}(React.Component);\n\nexport default Createbar;","map":{"version":3,"sources":["C:/Users/g/Desktop/laravel/nodeshopifyapp/pages/createbar.js"],"names":["AppProvider","ContextualSaveBar","Frame","Spinner","Page","Card","Form","FormLayout","TextStyle","Checkbox","TextField","Button","Avatar","RangeSlider","DropZone","Stack","Thumbnail","Select","ResourcePicker","TitleBar","translations","axios","Router","img","Createbar","props","ev","name","setState","state","close_button","intial_msg","goal","loading","btnload","pagebutton","formData","FormData","append","bg_img","progress_msg","opacity","achive_msg","spt_color","bg_color","txt_color","padding","font_size","that","post","headers","then","response","push","filename","createImage","path","contentsaver","open","selectedItems","items","handleSubmit","bind","handlecolorChange","options","label","value","fileUpload","uploadedFile","Polaris","skipToContent","save","discard","onAction","disabled","content","createnewbar","textAlign","handleDropZoneDrop","handleSelectChange","file","reader","FileReader","onload","e","target","result","readAsDataURL","React","Component"],"mappings":"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","sourcesContent":["import { AppProvider,ContextualSaveBar,Frame, Spinner, Page,Card, Form, FormLayout,TextStyle,Checkbox,\r\n  TextField,Button, Avatar, RangeSlider, DropZone,Stack,Thumbnail, Select} from '@shopify/polaris';\r\nimport { ResourcePicker, TitleBar } from '@shopify/app-bridge-react';\r\nimport translations from '@shopify/polaris/locales/en.json';\r\nimport axios from 'axios';\r\nimport Router from 'next/router'\r\nconst img = 'https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg';\r\n//import {useHistory } from 'react-router-dom';\r\n\r\nclass Createbar extends React.Component {\r\n  constructor(props) {\r\n  super(props);\r\n  this.state = { open: false, selectedItems: [], items:[],\r\n  spt_color:'#000000',\r\n  txt_color:'#000000',\r\n  bg_color:'#000000',\r\n  opacity:0,\r\n  bg_img:'',\r\n  filename:'',\r\n  name:'',\r\n  goal:'',\r\n  intial_msg:'',\r\n  progress_msg:'',\r\n  achive_msg:'',\r\n  loading : true,\r\n  btnload:false,\r\n  contentsaver: false,\r\n  pagebutton:false,\r\n  padding:'7',\r\n  font_size: '16',\r\n  close_button };\r\n this.handleSubmit = this.handleSubmit.bind(this);\r\n this.handlecolorChange = this.handlecolorChange.bind(this);\r\n}\r\ncomponentDidMount(){\r\n\r\n  this.setState({loading: false});\r\n  // axios.get('/allbars').then(response => {\r\n  //   console.log(response);\r\n  //     this.setState({\r\n  //       items: response.data\r\n  //     })\r\n  //   })\r\n}\r\n  render() {\r\n    const {contentsaver,pagebutton,btnload,spt_color,txt_color,bg_color,close_button,font_size,padding,opacity,loading,filename,bg_img,name,goal,intial_msg,progress_msg,achive_msg} = this.state;\r\n    const options = [\r\n    {label: 'Yes', value: 'yes'},\r\n    {label: 'No', value: 'no'},\r\n  ];\r\n    const fileUpload = !this.state.bg_img && <DropZone.FileUpload />;\r\n    const uploadedFile = bg_img && (<Stack><Thumbnail\r\n        size=\"small\"\r\n        alt={filename.name}\r\n        source='https://cdn.shopify.com/s/files/1/0757/9955/files/New_Post.png?12678548500147524304'\r\n        />\r\n        <div>\r\n          {filename.name}\r\n        </div>\r\n      </Stack>);\r\n    return (\r\n      <AppProvider i18n={{Polaris: { Frame: {\r\n          skipToContent: 'Skip to content',\r\n        },\r\n        ContextualSaveBar: {\r\n          save: 'Save',\r\n          discard: 'Discard',\r\n        },\r\n      },\r\n    }}>\r\n      <Frame>\r\n      { contentsaver ? (<ContextualSaveBar \r\n                message=\"Unsaved changes\"\r\n                saveAction={{\r\n                  onAction: () => this.handleSubmit(),\r\n                  loading: btnload,\r\n                  disabled: false,\r\n                }}\r\n                discardAction={{\r\n                  onAction: () => this.discard(),\r\n                }}\r\n              />): ''}\r\n      <Page title=\"Create New Bar\"\r\n          primaryAction={{\r\n            content: 'Cancel',\r\n            disabled: pagebutton,\r\n            onAction: () => this.createnewbar()\r\n          }}\r\n          >\r\n          {loading ? (<Card><div className=\"spinner-cls\" style={{textAlign: \"center\", padding: \"20px\"}}>\r\n                    <Spinner accessibilityLabel=\"Spinner example\" size=\"large\" color=\"teal\"/>\r\n                    </div></Card>):\r\n      (<Form>\r\n        <Card sectioned title=\"Style Configuration\">\r\n          <Card.Section >\r\n          <FormLayout>\r\n            <FormLayout.Group>\r\n            <TextField\r\n            value={bg_color}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'bg_color')}\r\n            label=\"Background Color\"\r\n            type=\"color\"\r\n          />\r\n          <TextField\r\n            value={txt_color}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'txt_color')}\r\n            label=\"Text Color\"\r\n            type=\"color\"\r\n          />\r\n          <TextField\r\n            value={spt_color}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'spt_color')}\r\n            label=\"Special Text Color\"\r\n            type=\"color\"\r\n          />\r\n        </FormLayout.Group>\r\n      </FormLayout>\r\n      <FormLayout>\r\n        <FormLayout.Group>\r\n          <TextField\r\n            value={font_size}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'font_size')}\r\n            label=\"Font Size\"\r\n            type=\"text\"\r\n          />\r\n          <TextField\r\n            value={padding}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'padding')}\r\n            label=\"Padding\"\r\n            type=\"text\"\r\n          />\r\n        </FormLayout.Group>\r\n      </FormLayout>\r\n      <FormLayout>\r\n      <RangeSlider\r\n        label=\"Background Color Opacity\"\r\n        value={opacity}\r\n        onChange={(ev) =>this.handlecolorChange(ev, 'opacity')}\r\n        min={0}\r\n        max={9}\r\n        output\r\n        helpText={\r\n              <span>\r\n                The range is from 0 to 1,0 = transparent and 1 = solid\r\n               </span>\r\n            }\r\n      />\r\n      <DropZone onDrop={this.handleDropZoneDrop}>\r\n      {uploadedFile}\r\n      {fileUpload}\r\n      </DropZone>\r\n      </FormLayout>\r\n      </Card.Section>\r\n      </Card>\r\n      <Card title=\"Content Configuration\">\r\n        <Card.Section >\r\n          <FormLayout>\r\n            <TextField\r\n            value={name}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'name')}\r\n            label=\"Name\"\r\n            type=\"text\"\r\n          />\r\n          <TextField\r\n            value={goal}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'goal')}\r\n            label=\"Free Shipping Goal\"\r\n            type=\"text\"\r\n          />\r\n          <TextField\r\n            value={intial_msg}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'intial_msg')}\r\n            label=\"Initial Message\"\r\n            type=\"text\"\r\n          />\r\n          <TextField\r\n            value={progress_msg}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'progress_msg')}\r\n            label=\"Progress Message\"\r\n            type=\"text\"\r\n          />\r\n          <TextField\r\n            value={achive_msg}\r\n            onChange={(ev) =>this.handlecolorChange(ev, 'achive_msg')}\r\n            label=\"Goal Achieved Message\"\r\n            type=\"text\"\r\n          />\r\n          <Select\r\n            label=\"Include The Close Button\"\r\n            options={options}\r\n            onChange={this.handleSelectChange}\r\n            value={close_button}\r\n          />\r\n        </FormLayout>\r\n      </Card.Section>\r\n      <Card.Section>\r\n      <Button submit primary>Submit</Button>\r\n      </Card.Section>\r\n    \r\n    </Card>\r\n    </Form>)}\r\n    </Page>\r\n    </Frame>\r\n    </AppProvider>\r\n        )\r\n      }\r\n  handlecolorChange = (ev, name) =>{\r\n    this.setState({\r\n    ...this.state,\r\n    [name]: ev,\r\n    contentsaver: true\r\n  });\r\n  }\r\n  handleSelectChange =(ev)=>{\r\n    this.setState({close_button: ev});\r\n  }\r\n  handleSubmit = () =>{\r\n    if(this.state.name == '' || this.state.intial_msg== '' || this.state.goal== ''){\r\n      return false;\r\n    }\r\n    this.setState({ loading : true,btnload:true, pagebutton: true});\r\n    let formData = new FormData();\r\n    formData.append('file', this.state.bg_img);\r\n    formData.append('name', this.state.name);\r\n    formData.append('goal', this.state.goal);\r\n    formData.append('intial_msg', this.state.intial_msg);\r\n    formData.append('progress_msg', this.state.progress_msg);\r\n    formData.append('opacity', this.state.opacity);\r\n    formData.append('achive_msg', this.state.achive_msg);\r\n    formData.append('spt_color', this.state.spt_color);\r\n    formData.append('bg_color', this.state.bg_color);\r\n    formData.append('txt_color', this.state.txt_color);\r\n    formData.append('padding', this.state.padding);\r\n    formData.append('font_size', this.state.font_size);\r\n    var that = this;\r\n    axios.post('/createbar', formData,\r\n             {\r\n                headers: {\r\n                  'Content-Type': 'multipart/form-data'\r\n                }\r\n             })\r\n             .then(function (response) {\r\n              Router.push('/');\r\n              //that.setState({ loading : false});\r\n              //router.push('/');\r\n             });\r\n  }\r\n  handleDropZoneDrop= (ev) =>{\r\n    this.setState({ filename : ev[0]});\r\n    this.createImage(ev[0]);\r\n  }\r\n  createImage(file) {\r\n    let reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      this.setState({\r\n        bg_img: e.target.result\r\n      })\r\n    };\r\n    reader.readAsDataURL(file);  \r\n  }\r\n  createnewbar= () =>{\r\n    this.setState({\r\n        loading: true\r\n      });\r\n    let path = '/';\r\n    Router.push(path);\r\n  }\r\n  discard= () =>{\r\n    this.setState({ contentsaver: false });\r\n  }\r\n  }\r\nexport default Createbar;"]},"metadata":{},"sourceType":"module"}